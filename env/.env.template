# Lumi environment template (Phase 0)
NODE_ENV=development
APP_NAME=Lumi Commerce Platform
APP_PORT=4000
PORT=4000
API_BASE_URL=http://localhost:4000
FRONTEND_URL=http://localhost:3000
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/lumi
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20
DATABASE_SLOW_QUERY_THRESHOLD_MS=200
QUERY_TIMEOUT_MS=5000
REDIS_URL=redis://localhost:6379
STORAGE_BUCKET=lumi-local-assets
LOG_LEVEL=debug
JWT_SECRET=replace-with-secure-secret-value!!
JWT_ACCESS_SECRET=replace-with-access-secret-value-32chars!!
JWT_REFRESH_SECRET=replace-with-refresh-secret-value-32chars!!
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=14d
COOKIE_DOMAIN=localhost
COOKIE_SECRET=replace-with-cookie-secret-value-32chars!!
EMAIL_VERIFICATION_TTL=24h
PASSWORD_RESET_TTL=1h
SESSION_FINGERPRINT_SECRET=replace-with-fingerprint-secret-32chars!!
LOCKOUT_DURATION=15m
MAX_LOGIN_ATTEMPTS=5
AUTH_BRUTE_FORCE_ENABLED=true
AUTH_BRUTE_FORCE_WINDOW=900
AUTH_BRUTE_FORCE_DELAY_BASE_MS=250
AUTH_BRUTE_FORCE_DELAY_STEP_MS=250
AUTH_BRUTE_FORCE_DELAY_MAX_MS=5000
AUTH_BRUTE_FORCE_CAPTCHA_THRESHOLD=10

# CORS configuration
CORS_ENABLED=true
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://localhost:3000
CORS_ALLOWED_METHODS=GET,HEAD,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Request-Id
CORS_EXPOSED_HEADERS=X-Request-Id
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=600

# Security headers
SECURITY_HEADERS_ENABLED=true
SECURITY_HEADERS_CSP=default-src 'self'; frame-ancestors 'none'; object-src 'none'; base-uri 'self';
SECURITY_HEADERS_REFERRER_POLICY=strict-origin-when-cross-origin
SECURITY_HEADERS_FRAME_GUARD=DENY
SECURITY_HEADERS_PERMISSIONS_POLICY=accelerometer=(),camera=(),geolocation=(),gyroscope=(),microphone=(),payment=()
SECURITY_HEADERS_HSTS_MAX_AGE=63072000
SECURITY_HEADERS_HSTS_INCLUDE_SUBDOMAINS=true
SECURITY_HEADERS_HSTS_PRELOAD=true
SECURITY_HEADERS_EXPECT_CT_ENFORCE=false
SECURITY_HEADERS_EXPECT_CT_MAX_AGE=86400
SECURITY_HEADERS_EXPECT_CT_REPORT_URI=
SECURITY_HEADERS_CROSS_ORIGIN_EMBEDDER_POLICY=require-corp
SECURITY_HEADERS_CROSS_ORIGIN_OPENER_POLICY=same-origin
SECURITY_HEADERS_CROSS_ORIGIN_RESOURCE_POLICY=same-site
SECURITY_HEADERS_X_CONTENT_TYPE_OPTIONS=nosniff

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_STRATEGY=memory
RATE_LIMIT_POINTS=100
RATE_LIMIT_DURATION=900
RATE_LIMIT_BLOCK_DURATION=900
RATE_LIMIT_KEY_PREFIX=lumi:rate-limit
RATE_LIMIT_REDIS_URL=
RATE_LIMIT_AUTH_POINTS=5
RATE_LIMIT_AUTH_DURATION=900
RATE_LIMIT_AUTH_BLOCK_DURATION=900
RATE_LIMIT_IP_WHITELIST=
RATE_LIMIT_AUTH_LOGIN_POINTS=5
RATE_LIMIT_AUTH_LOGIN_DURATION=900
RATE_LIMIT_AUTH_LOGIN_BLOCK_DURATION=900
RATE_LIMIT_AUTH_REGISTER_POINTS=5
RATE_LIMIT_AUTH_REGISTER_DURATION=900
RATE_LIMIT_AUTH_REGISTER_BLOCK_DURATION=900
RATE_LIMIT_AUTH_FORGOT_PASSWORD_POINTS=3
RATE_LIMIT_AUTH_FORGOT_PASSWORD_DURATION=3600
RATE_LIMIT_AUTH_FORGOT_PASSWORD_BLOCK_DURATION=3600
RATE_LIMIT_AUTH_RESEND_VERIFICATION_POINTS=3
RATE_LIMIT_AUTH_RESEND_VERIFICATION_DURATION=3600
RATE_LIMIT_AUTH_RESEND_VERIFICATION_BLOCK_DURATION=3600
RATE_LIMIT_AUTH_REFRESH_POINTS=10
RATE_LIMIT_AUTH_REFRESH_DURATION=60
RATE_LIMIT_AUTH_REFRESH_BLOCK_DURATION=120
RATE_LIMIT_AUTH_CHANGE_PASSWORD_POINTS=5
RATE_LIMIT_AUTH_CHANGE_PASSWORD_DURATION=3600
RATE_LIMIT_AUTH_CHANGE_PASSWORD_BLOCK_DURATION=3600

# Input validation
VALIDATION_STRICT=true
VALIDATION_SANITIZE=true
VALIDATION_STRIP_UNKNOWN=true
VALIDATION_MAX_BODY_KB=512

# Email delivery
EMAIL_ENABLED=true
EMAIL_FROM_ADDRESS=notifications@lumi.dev
EMAIL_FROM_NAME=Lumi Commerce
EMAIL_REPLY_TO_ADDRESS=support@lumi.dev
EMAIL_SIGNING_SECRET=replace-with-email-signing-secret-32chars!!
EMAIL_SMTP_HOST=localhost
EMAIL_SMTP_PORT=1025
EMAIL_SMTP_SECURE=false
EMAIL_SMTP_USERNAME=
EMAIL_SMTP_PASSWORD=
EMAIL_SMTP_TLS_REJECT_UNAUTHORIZED=false
EMAIL_RATE_LIMIT_WINDOW=2m
EMAIL_RATE_LIMIT_MAX_PER_RECIPIENT=8
EMAIL_QUEUE_DRIVER=inline
EMAIL_QUEUE_CONCURRENCY=4
EMAIL_LOG_DELIVERIES=true
EMAIL_TEMPLATE_BASE_URL=http://localhost:3000
EMAIL_SUPPORT_ADDRESS=support@lumi.dev
EMAIL_SUPPORT_URL=https://support.lumi.dev
EMAIL_TEMPLATE_DEFAULT_LOCALE=en-US

# Observability & runtime
SENTRY_DSN=
LOG_DIRECTORY=logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d
LOG_ENABLE_CONSOLE=true
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics
METRICS_PREFIX=lumi_
METRICS_COLLECT_DEFAULT=true
METRICS_DEFAULT_INTERVAL=5000
METRICS_BASIC_AUTH_USERNAME=metrics
METRICS_BASIC_AUTH_PASSWORD=change-me
ALERTING_ENABLED=false
ALERTING_WEBHOOK_URL=
ALERTING_SEVERITY=error
HEALTH_UPTIME_GRACE_PERIOD=30
FEATURE_FLAGS={}
CONFIG_HOT_RELOAD=false
CONFIG_ENCRYPTION_KEY=
CI=false
