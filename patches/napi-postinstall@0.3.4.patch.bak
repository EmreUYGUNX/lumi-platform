diff --git a/lib/cli.js b/lib/cli.js
index ab4b9a9..a67a8a5 100644
--- a/lib/cli.js
+++ b/lib/cli.js
@@ -2,8 +2,19 @@
 "use strict";
 Object.defineProperty(exports, "__esModule", { value: true });
 const fs = require("node:fs");
-const constants_1 = require("./constants");
-const index_js_1 = require("./index.js");
+const resolveFromPackage = (target) => {
+    try {
+        return require(`./${target}`);
+    }
+    catch (error) {
+        if (!(error && error.code === 'MODULE_NOT_FOUND')) {
+            throw error;
+        }
+        return require(`napi-postinstall/lib/${target}`);
+    }
+};
+const constants_1 = resolveFromPackage("constants");
+const index_js_1 = resolveFromPackage("index.js");
 function readCwdPackage(packageName, packageVersion) {
     try {
         const packageJson = JSON.parse(fs.readFileSync(constants_1.PACKAGE_JSON, 'utf8'));
@@ -24,4 +35,4 @@ if (packageJson) {
 else {
     void (0, index_js_1.checkAndPreparePackage)(packageName, packageVersion, checkVersion);
 }
-//# sourceMappingURL=cli.js.map
\ No newline at end of file
+//# sourceMappingURL=cli.js.map
